<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Alexey Loubyansky">
<title>WildFly Galleon Plugins Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>WildFly Galleon Plugins Documentation</h1>
<div class="details">
<span id="author" class="author">Alexey Loubyansky</span><br>
<span id="revnumber">version {version},</span>
<span id="revdate">2018-08-13</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_maven_plugin">2. Maven plugin</a>
<ul class="sectlevel2">
<li><a href="#_goals_overview">2.1. Goals overview</a></li>
<li><a href="#_generate_feature_specs">2.2. generate-feature-specs</a></li>
<li><a href="#_build_feature_pack">2.3. build-feature-pack</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>&#169; 2018 The original authors.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>WildFly Galleon Plugins project includes Galleon and Maven plugin implementations that are dedicated to building feature-packs (including generation of feature specs and packages) for WildFly releases and provisioning of WildFly-based distributions. These plugins can also be re-used by projects that integrate into or extend WildFly (Core, Servlet of Full base distributions).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maven_plugin">2. Maven plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter is dedicated to the Maven plugin that can be used to build and install WildFly-based feature-packs. Maven
coordinates of the Maven plugin artifact are</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Provisioning of distributions is done using the Maven plugin that belongs to Galleon itself. Please, refer to
Galleon documentation for more information.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.wildfly.galleon-plugins&lt;/groupId&gt;
    &lt;artifactId&gt;wildfly-galleon-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;2.0.0.Alpha7-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_goals_overview">2.1. Goals overview</h3>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_generate_feature_specs">generate-feature-specs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates feature specs from WildFly extensions that are later included into the feature-pack.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_build_feature_pack">build-feature-pack</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a feature-pack archive from the provided resources in the WildFly fashion.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_generate_feature_specs">2.2. generate-feature-specs</h3>
<div class="sect3">
<h4 id="_wildfly_galleongenerate_feature_specs">2.2.1. wildfly-galleon:generate-feature-specs</h4>
<div class="paragraph">
<p><strong>Full name:</strong>
org.wildfly.galleon-plugins:wildfly-galleon-maven-plugin:2.0.0.Alpha7-SNAPSHOT:generate-feature-specs</p>
</div>
</div>
<div class="sect3">
<h4 id="_description">2.2.2. Description</h4>
<div class="paragraph">
<p>This plug-in generates WildFly feature specifications. It starts a
minimal embedded server with the specified extensions, resolving
dependencies via Aether, and gets an export of the meta-model from
the server to produce the specifications for Galleon.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attributes">2.2.3. Attributes</h4>
<div class="ulist">
<ul>
<li>
<p>Requires a Maven project to be executed.</p>
</li>
<li>
<p>Requires dependency resolution of artifacts in scope: <code>runtime</code>.</p>
</li>
<li>
<p>Binds by default to the <a href="http://maven.apache.org/ref/current/maven-core/lifecycles.html">lifecycle phase</a>: <code>generate-resources</code>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all fit-content stretch">
<caption class="title">Table 1. Required Parameters</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#domainExtensions">[domainExtensions]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of WildFly extensions for the embedded domain. Used in the
domain.xml.<br>
<strong>Alias is</strong>: <code>domain-extensions</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#hostExtensions">[hostExtensions]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of WildFly extensions for the embedded host. Used in the
host.xml.<br>
<strong>Alias is</strong>: <code>host-extensions</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#outputDirectory">[outputDirectory]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directory where the generated specifications are written.<br>
<strong>Alias is</strong>: <code>output-dir</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#standaloneExtensions">[standaloneExtensions]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of WildFly extensions for the embedded standalone. Used in the
standalone.xml<br>
<strong>Alias is</strong>: <code>standalone-extensions</code>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all fit-content stretch">
<caption class="title">Table 2. Optional Parameters</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#externalArtifacts">[externalArtifacts]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of external artifacts to be added to the embedded server.<br>
<strong>Alias is</strong>: <code>external-artifacts</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#featurePacks">[featurePacks]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>List</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of feature-pack artifacts that the new feature-pack will
depend on.<br>
<strong>Alias is</strong>: <code>feature-packs</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#forkEmbedded">[forkEmbedded]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to launch the embedded server to read feature descriptions
in a separate process<br>
<strong>Alias is</strong>: <code>fork-embedded</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_details">2.2.4. Parameter Details</h4>
<div class="paragraph">
<p><a id="domainExtensions"></a> <strong>domainExtensions</strong><br>
List of WildFly extensions for the embedded domain. Used in the
domain.xml.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.util.List</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>Yes</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>domain-extensions</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="externalArtifacts"></a> <strong>externalArtifacts</strong><br>
List of external artifacts to be added to the embedded server.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.util.List</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>external-artifacts</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="featurePacks"></a> <strong>featurePacks</strong><br>
List of feature-pack artifacts that the new feature-pack will
depend on.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.util.List</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>feature-packs</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="forkEmbedded"></a> <strong>forkEmbedded</strong><br>
Whether to launch the embedded server to read feature descriptions
in a separate process</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>boolean</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>fork-embedded</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="hostExtensions"></a> <strong>hostExtensions</strong><br>
List of WildFly extensions for the embedded host. Used in the
host.xml.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.util.List</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>Yes</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>host-extensions</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="outputDirectory"></a> <strong>outputDirectory</strong><br>
The directory where the generated specifications are written.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.io.File</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>Yes</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>output-dir</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="standaloneExtensions"></a> <strong>standaloneExtensions</strong><br>
List of WildFly extensions for the embedded standalone. Used in the
standalone.xml</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.util.List</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>Yes</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>standalone-extensions</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_sample_configuration">2.2.5. Sample Configuration</h4>
<div class="listingblock">
<div class="title">Sample plugin configuration</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;plugin&gt;
  &lt;groupId&gt;org.wildfly.galleon-plugins&lt;/groupId&gt;
  &lt;artifactId&gt;wildfly-galleon-maven-plugins&lt;/artifactId&gt;
  &lt;executions&gt;
    &lt;execution&gt;
      &lt;id&gt;feature-spec-build&lt;/id&gt;
      &lt;goals&gt;
        &lt;goal&gt;generate-feature-specs&lt;/goal&gt;
      &lt;/goals&gt;
      &lt;phase&gt;prepare-package&lt;/phase&gt;
      &lt;configuration&gt;
        &lt;output-dir&gt;${basedir}/target/resources/features&lt;/output-dir&gt; <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;feature-packs&gt; <i class="conum" data-value="2"></i><b>(2)</b>
          &lt;feature-pack&gt;
            &lt;groupId&gt;org.wildfly.core&lt;/groupId&gt;
            &lt;artifactId&gt;wildfly-core-galleon-pack&lt;/artifactId&gt;
            &lt;version&gt;${version.org.wildfly.core}&lt;/version&gt;
            &lt;type&gt;zip&lt;/type&gt;
            &lt;extension&gt;zip&lt;/extension&gt;
          &lt;/feature-pack&gt;
          &lt;feature-pack&gt;
            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;
            &lt;artifactId&gt;wildfly-servlet-galleon-pack&lt;/artifactId&gt;
            &lt;version&gt;${project.version}&lt;/version&gt;
            &lt;type&gt;zip&lt;/type&gt;
            &lt;extension&gt;zip&lt;/extension&gt;
          &lt;/feature-pack&gt;
        &lt;/feature-packs&gt;
        &lt;external-artifacts&gt; <i class="conum" data-value="3"></i><b>(3)</b>
          &lt;external-artifact&gt;
            &lt;artifactItem&gt;
              &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;
              &lt;artifactId&gt;artemis-native&lt;/artifactId&gt;
              &lt;version&gt;${version.org.apache.activemq.artemis}&lt;/version&gt;
            &lt;/artifactItem&gt;
            &lt;includes&gt;lib/**&lt;/includes&gt;
            &lt;excludes&gt;*.*&lt;/excludes&gt;
            &lt;toLocation&gt;system/layers/base/org/apache/activemq/artemis/journal/main&lt;/toLocation&gt;
          &lt;/external-artifact&gt;
        &lt;/external-artifacts&gt;
        &lt;standalone-extensions&gt; <i class="conum" data-value="4"></i><b>(4)</b>
          &lt;extension&gt;org.wildfly.extension.discovery&lt;/extension&gt;
          &lt;extension&gt;org.jboss.as.clustering.infinispan&lt;/extension&gt;
          &lt;extension&gt;org.jboss.as.clustering.jgroups&lt;/extension&gt;
          &lt;!-- skipped content --&gt;
          &lt;extension&gt;org.wildfly.extension.undertow&lt;/extension&gt;
          &lt;extension&gt;org.wildfly.iiop-openjdk&lt;/extension&gt;
        &lt;/standalone-extensions&gt;
        &lt;domain-extensions&gt; <i class="conum" data-value="5"></i><b>(5)</b>
          &lt;extension&gt;org.wildfly.extension.discovery&lt;/extension&gt;
          &lt;extension&gt;org.jboss.as.clustering.infinispan&lt;/extension&gt;
         &lt;!-- skipped content --&gt;
          &lt;extension&gt;org.wildfly.extension.undertow&lt;/extension&gt;
          &lt;extension&gt;org.wildfly.iiop-openjdk&lt;/extension&gt;
        &lt;/domain-extensions&gt;
        &lt;host-extensions&gt; <i class="conum" data-value="6"></i><b>(6)</b>
          &lt;extension&gt;org.jboss.as.jmx&lt;/extension&gt;
          &lt;extension&gt;org.wildfly.extension.core-management&lt;/extension&gt;
          &lt;extension&gt;org.wildfly.extension.discovery&lt;/extension&gt;
          &lt;extension&gt;org.wildfly.extension.elytron&lt;/extension&gt;
        &lt;/host-extensions&gt;
      &lt;/configuration&gt;
    &lt;/execution&gt;
  &lt;/executions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>outputDirectory: The directory where the generated specifications are written.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>feature-packs: List of feature-pack artifacts that the new feature-pack will depend on.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>outputDirectory: List of external artifacts to be added to the embedded server.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>standalone-extensions: List of WildFly extensions for the embedded standalone.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>domain-extensions: List of WildFly extensions for the embedded domain.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>host-extensions: List of WildFly extensions for the embedded host.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_how_does_it_work">2.2.6. How does it work ?</h4>
<div class="paragraph">
<p>This section explains the basic mechanism of feature spec generation in WildFly.</p>
</div>
<div class="paragraph">
<p>Since the whole mechanism relies on the WildFly metamodel we create a mininal configuration file with all the extensions
we want to be able to configure in the feature pack. Then we generate the feature specs via a Wildfly
OperationStepHandler specifically designed for this.</p>
</div>
<div class="paragraph">
<p>Each resource registration in the WildFly model is considered to be a feature as long as it is not a <code>proxy</code>, a
<code>runtime only</code> or an <code>alias</code>. The registration address is used to define the feature-id of the feature and all
attributes that can be used in the addHandler will become parameters. Capabilities are used to define the links between
feature specs thus defining how the operations will be grouped, ordered and executed.</p>
</div>
<div class="paragraph">
<p>Complex attributes cannot be used as simple parameters of a feature and are converted to feature specs too so they can
be configured in an easier way through a <code>writeAttribute</code> or <code>addList</code> instead of an <code>add</code> operation.</p>
</div>
<div class="paragraph">
<p>Then all the feature specs for <strong>standalone</strong> server, <strong>domain</strong> server and <strong>host</strong> controller are processed and 'merged'
into a single feature spec if no incompatibility exists between those three modes. We remove also all the feature specs
that have already been defined in the feature packs that we are depending on (for example core feature specs that would
have been produced in every Wildfly server are removed).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_build_feature_pack">2.3. build-feature-pack</h3>
<div class="sect3">
<h4 id="_wildfly_galleonbuild_feature_pack">2.3.1. wildfly-galleon:build-feature-pack</h4>
<div class="paragraph">
<p><strong>Full name:</strong>
org.wildfly.galleon-plugins:wildfly-galleon-maven-plugin:2.0.0.Alpha7-SNAPSHOT:build-feature-pack</p>
</div>
</div>
<div class="sect3">
<h4 id="_description_2">2.3.2. Description</h4>
<div class="paragraph">
<p>This Maven mojo creates a WildFly style feature-pack archive from
the provided resources according to the feature-pack build
configuration file and attaches it to the current Maven project as
an artifact. The content of the future feature-pack archive is
first created in the directory called <code>layout</code> under the module&#8217;s
build directory which is then ZIPped to create the feature-pack
artifact.</p>
</div>
</div>
<div class="sect3">
<h4 id="_attributes_2">2.3.3. Attributes</h4>
<div class="ulist">
<ul>
<li>
<p>Requires a Maven project to be executed.</p>
</li>
<li>
<p>Requires dependency resolution of artifacts in scope: <code>runtime</code>.</p>
</li>
<li>
<p>Binds by default to the <a href="http://maven.apache.org/ref/current/maven-core/lifecycles.html">lifecycle phase</a>: <code>compile</code>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all fit-content stretch">
<caption class="title">Table 3. Required Parameters</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#resourcesDir">[resourcesDir]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory containing child directories
<code>packages</code>, <code>feature_groups</code>,
<code>modules</code> etc. Either an absolute path or a path
relative to <code>configDir</code>.<br>
<strong>Default value is</strong>: <code>src/main/resources</code>.<br>
<strong>User property is</strong>: <code>wildfly.feature.pack.resourcesDir</code>.<br>
<strong>Alias is</strong>: <code>resources-dir</code>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all fit-content stretch">
<caption class="title">Table 4. Optional Parameters</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#buildName">[buildName]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The directory for the built artifact.<br>
<strong>Default value is</strong>: <code>${project.build.directory}</code>.<br>
<strong>User property is</strong>: <code>wildfly.feature.pack.buildName</code>.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#configDir">[configDir]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The feature-pack build configuration file directory<br>
<strong>Default value is</strong>: <code>${basedir}</code>.<br>
<strong>User property is</strong>: <code>wildfly.feature.pack.configDir</code>.<br>
<strong>Alias is</strong>: <code>config-dir</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#configFile">[configFile]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The feature-pack build configuration file.<br>
<strong>Default value is</strong>: <code>wildfly-feature-pack-build.xml</code>.<br>
<strong>User property is</strong>: <code>wildfly.feature.pack.configFile</code>.<br>
<strong>Alias is</strong>: <code>config-file</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#fpArtifactId">[fpArtifactId]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The artifactId for the generated feature-pack.<br>
<strong>Default value is</strong>: <code>${project.artifactId}</code>.<br>
<strong>Alias is</strong>: <code>feature-pack-artifact-id</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#releaseName">[releaseName]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the release the feature-pack represents which will be
stored in the feature-pack&#8217;s
<code>resources/wildfly/wildfly-tasks.properties</code> as
<code>product.release.name</code> property.<br>
<strong>Default value is</strong>: <code>${product.release.name}</code>.<br>
<strong>Alias is</strong>: <code>release-name</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#taskProps">[taskProps]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Various properties that will be added to feature-pack&#8217;s
<code>resources/wildfly/wildfly-tasks.properties</code>.<br>
NOTE: values of this parameter will overwrite the corresponding
values from task-properties-file parameter, in case it&#8217;s also
set. +<br>
<strong>Alias is</strong>: <code>task-properties</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#taskPropsFile">[taskPropsFile]</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>File</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to a properties file content of which will be added to
feature-pack&#8217;s <code>resources/wildfly/wildfly-tasks.properties</code> file
that is used as the source of properties during file copying tasks
with property replacement.<br>
<strong>Alias is</strong>: <code>task-properties-file</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_parameter_details_2">2.3.4. Parameter Details</h4>
<div class="paragraph">
<p><a id="buildName"></a> <strong>buildName</strong><br>
The directory for the built artifact.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.lang.String</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>User Property</strong>: <code>wildfly.feature.pack.buildName</code></p>
</li>
<li>
<p><strong>Default</strong>: <code>${project.build.directory}</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="configDir"></a> <strong>configDir</strong><br>
The feature-pack build configuration file directory</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.io.File</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>User Property</strong>: <code>wildfly.feature.pack.configDir</code></p>
</li>
<li>
<p><strong>Default</strong>: <code>${basedir}</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>config-dir</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="configFile"></a> <strong>configFile</strong><br>
The feature-pack build configuration file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.lang.String</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>User Property</strong>: <code>wildfly.feature.pack.configFile</code></p>
</li>
<li>
<p><strong>Default</strong>: <code>wildfly-feature-pack-build.xml</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>config-file</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="fpArtifactId"></a> <strong>fpArtifactId</strong><br>
The artifactId for the generated feature-pack.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.lang.String</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Default</strong>: <code>${project.artifactId}</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>feature-pack-artifact-id</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="releaseName"></a> <strong>releaseName</strong><br>
The name of the release the feature-pack represents which will be
stored in the feature-pack&#8217;s
<code>resources/wildfly/wildfly-tasks.properties</code> as
<code>product.release.name</code> property.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.lang.String</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Default</strong>: <code>${product.release.name}</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>release-name</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="resourcesDir"></a> <strong>resourcesDir</strong><br>
Represents the directory containing child directories
<code>packages</code>, <code>feature_groups</code>,
<code>modules</code> etc. Either an absolute path or a path
relative to <code>configDir</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.lang.String</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>Yes</code></p>
</li>
<li>
<p><strong>User Property</strong>: <code>wildfly.feature.pack.resourcesDir</code></p>
</li>
<li>
<p><strong>Default</strong>: <code>src/main/resources</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>resources-dir</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="taskProps"></a> <strong>taskProps</strong><br>
Various properties that will be added to feature-pack&#8217;s
<code>resources/wildfly/wildfly-tasks.properties</code>.<br>
NOTE: values of this parameter will overwrite the corresponding
values from task-properties-file parameter, in case it&#8217;s also
set.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.util.Map</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>task-properties</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="taskPropsFile"></a> <strong>taskPropsFile</strong><br>
Path to a properties file content of which will be added to
feature-pack&#8217;s <code>resources/wildfly/wildfly-tasks.properties</code> file
that is used as the source of properties during file copying tasks
with property replacement.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Type</strong>: <code>java.io.File</code></p>
</li>
<li>
<p><strong>Required</strong>: <code>No</code></p>
</li>
<li>
<p><strong>Alias</strong>: <code>task-properties-file</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_feature_pack_build_config_file_wildfly_feature_pack_build_xml">2.3.5. Feature-pack build config file (wildfly-feature-pack-build.xml)</h4>
<div class="paragraph">
<p>Feature-pack building starts with this file. The file describes the feature-pack in terms of its dependencies on other
feature-packs, default packages, configs and other options such as from which artifact groups to extract schemas into
the distribution&#8217;s <code>docs/schema</code> directory.</p>
</div>
<div class="paragraph">
<p>If the file includes feature-pack dependencies, those feature-packs must be resolvable as Maven artifacts during the
build process. They will be explored to collect the provisioning descriptions (such as feature-pack.xml, etc) of the
dependencies.</p>
</div>
<div class="paragraph">
<p>Most of the content of this file is basically copied directly into the final <code>feature-pack.xml</code> generated by the mojo.
Here is an excerpt from the WildFly Servlet feature-pack build config file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;build xmlns="urn:wildfly:feature-pack-build:2.0"&gt;
    &lt;dependencies&gt;
        &lt;dependency group-id="org.wildfly.core" artifact-id="wildfly-core-galleon-pack"&gt;
            &lt;name&gt;org.wildfly.core:wildfly-core-galleon-pack&lt;/name&gt;
            &lt;packages inherit="false"&gt;
                &lt;exclude name="product.conf"/&gt;
            &lt;/packages&gt;
            &lt;default-configs inherit="false"/&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;default-packages&gt;
        &lt;package name="modules.all"/&gt;
        &lt;package name="docs"/&gt;
    &lt;/default-packages&gt;
    &lt;package-schemas&gt;
        &lt;group name="org.jboss.as"/&gt;
        &lt;group name="org.wildfly"/&gt;
        &lt;group name="org.wildfly.core"/&gt;
    &lt;/package-schemas&gt;
    &lt;config model="standalone"&gt;
        &lt;packages&gt;
            &lt;package name="product.conf" optional="true"/&gt;
            &lt;package name="misc.standalone"/&gt;
        &lt;/packages&gt;
    &lt;/config&gt;
    &lt;!-- the rest is skipped --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All the elements in the above excerpt except for package-schemas are actual <code>feature-pack.xml</code> content that will be
copied to the resulting feature-pack.xml as-is.</p>
</div>
<div class="sect4">
<h5 id="_extracting_schemas">Extracting schemas</h5>
<div class="paragraph">
<p>The presence of element <code>package-schemas</code> instructs the mojo to create a package called <code>docs.schema</code>. The package
includes no content but a file with Maven artifact groupIds from which XSD schemas should be extracted into the
distribution&#8217;s docs/schema directory, in case <code>docs.schema</code> package was selected to be installed (it is by default).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_feature_pack_packages">2.3.6. Feature-pack packages</h4>
<div class="paragraph">
<p>The Maven project module which creates a feature-pack may describe its packages and/or provide more data for the packages generated from JBoss modules in the Maven module&#8217;s <code>src/main/resources/packages</code>.</p>
</div>
<div class="paragraph">
<p>Every child directory of <code>src/main/resources/packages</code> represents a package with the directory name being the package name. The content of the package directory is going to be copied to the corresponding package directory in the feature-pack.</p>
</div>
<div class="paragraph">
<p>The usual package directory structure is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>package_name
|- content/
|- pm/
|  `- wildfly/
|     `- tasks.xml
`- package.xml</pre>
</div>
</div>
<div class="paragraph">
<p>In general, the only required child of the package directory is <code>package.xml</code>.</p>
</div>
<div class="paragraph">
<p>Package content directory includes content that will be copied to the installation root directory when the package is installed.</p>
</div>
<div class="paragraph">
<p><code>pm/wildfly/tasks.xml</code> file is optional, it may include instructions to copy and/or delete files and diretcories, create directories, resolve and copy Maven artifacts to the installation directory, etc. These tasks are executed when the content of all the packages has been copied into the installation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_generating_jboss_module_packages">2.3.7. Generating JBoss module packages</h4>
<div class="paragraph">
<p>JBoss modules of the distribution are turned into feature-pack packages. A package is created per JBoss module. JBoss module dependencies are reflected in the corresponding package dependencies.</p>
</div>
<div class="paragraph">
<p>JBoss modules packages don&#8217;t have to be manually described in <code>src/main/resources/packages</code>.</p>
</div>
<div class="paragraph">
<p>Traditionally, WildFly-based builds use <code>module.xml</code> templates to generate the final <code>module.xml</code> files based on the distribution type selected: <strong>thin</strong> (when the JBoss module artifacts are loaded directly from the Maven repository at runtime) or <strong>thick</strong> (when the JBoss module artifacts are resolved and copied to the distribution directory at provisioning time).</p>
</div>
<div class="paragraph">
<p>The Maven module that is building a feature-pack may include <code>src/main/resources/modules/system/layers</code> directory containing <code>module.xml</code> templates. The mojo will read those and generate a package per <code>module.xml</code>.</p>
</div>
<div class="paragraph">
<p>For example, here is an excerpt from a <code>module.xml</code> template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;module xmlns="urn:jboss:module:1.8" name="org.jboss.as.jmx"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;exports&gt;
        &lt;exclude path="org/jboss/as/jmx/logging"/&gt;
    &lt;/exports&gt;

    &lt;resources&gt;
        &lt;artifact name="${org.wildfly.core:wildfly-jmx}"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;!-- skipped content --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It looks pretty much like the final <code>module.xml</code> except that the artifact name is an epression which should be replaced with either the complete artifact coordinates in case of a thin distribution, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;module name="org.jboss.as.jmx" xmlns="urn:jboss:module:1.8"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;exports&gt;
        &lt;exclude path="org/jboss/as/jmx/logging"/&gt;
    &lt;/exports&gt;

    &lt;resources&gt;
        &lt;artifact name="org.wildfly.core:wildfly-jmx:5.0.0.Beta3-SNAPSHOT"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;!-- skipped content --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the <code>resource-root</code> element in case of a thick distribution, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;module name="org.jboss.as.jmx" xmlns="urn:jboss:module:1.8"&gt;
    &lt;properties&gt;
        &lt;property name="jboss.api" value="private"/&gt;
    &lt;/properties&gt;

    &lt;exports&gt;
        &lt;exclude path="org/jboss/as/jmx/logging"/&gt;
    &lt;/exports&gt;

    &lt;resources&gt;
        &lt;resource-root path="wildfly-jmx-5.0.0.Beta3-SNAPSHOT.jar"/&gt;
    &lt;/resources&gt;

    &lt;dependencies&gt;
        &lt;!-- skipped content --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>module.xml</code> template processing is happening at provisioning time and depends on the kind of distribution being provisioned.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is possible that a module depends on another module which is not found in the current feature-pack. In that case, the feature-pack that contains the package representing the module from the dependency must be declared as the dependency of the current feature-pack in the feature-pack build config file. If the dependency could not be resolved locally (among the modules included in the current feature-pack), the module will be looked up in the dependencies of the current feature-pack (in the order the dependencies are specified in the feature-pack build config file).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In case a module dependency could not be resolved neither locally nor in the feature-pack dependencies, an error will be thrown with the corresponding message.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The package generated for a JBoss module can still be customized by, e.g., adding <code>pm/wildfly/tasks.xml</code> to it in <code>src/main/resources/packages</code>. In this case the package dir in <code>src/main/resources/packages</code> has to include only the content that the generated package is missing. It doesn&#8217;t have to include <code>package.xml</code> unless the generated one has to be replaced with a custom one.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_modules_all_package">modules.all package</h5>
<div class="paragraph">
<p>If a feature-pack includes JBoss modules, in addition to the module packages, the mojo will generate a package called <code>modules.all</code>. This package will not contain any content but will simply depend on all the module packages generated for this feature-pack. This package exists for convenience only to be able to install all the modules from the feature-pack (and its dependencies) by including a single package.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Original WildFly feature-packs include <code>modules.all</code> into the default package list at the moment to follow the legacy approach of building distributions. This is configured in the feature-pack build config file.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version {version}<br>
Last updated 2018-06-04 15:47:18 WEST
</div>
</div>
</body>
</html>